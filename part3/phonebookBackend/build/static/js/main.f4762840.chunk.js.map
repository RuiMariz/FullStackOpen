{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","exports","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","remove","delete","Persons","props","persons","map","person","name","number","nameFilter","removePerson","Person","toLowerCase","includes","onClick","Filter","value","onChange","handleNameFilterChange","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setNewNameFilter","errorMessage","setErrorMessage","successMessage","setSuccessMessage","useEffect","personService","createNotificationMessage","setTimeout","event","target","preventDefault","find","p","window","confirm","noteObject","updatedPerson","catch","error","console","log","personObject","newPerson","concat","filter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f4762840.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst exports = { getAll, create, update, remove };\r\nexport default exports","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\nconst Persons = (props) => {\n  return (\n    <ul>\n      {props.persons.map(person => <Person key={person.name} name={person.name}\n        number={person.number} nameFilter={props.nameFilter} removePerson={props.removePerson} />)}\n    </ul>\n  )\n}\n\nconst Person = (props) => {\n  if (props.name.toLowerCase().includes(props.nameFilter.toLowerCase())) {\n    return (\n      <div>\n        <li>{props.name} {props.number}</li>\n        <button onClick={() => props.removePerson(props.name)}>remove</button>\n      </div>\n    )\n  }\n  return null\n}\n\nconst Filter = (props) => {\n  return (\n    <div>\n      filter shown with<input value={props.nameFilter} onChange={props.handleNameFilterChange} />\n    </div>\n  )\n}\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.addPerson}>\n      <div>\n        name: <input value={props.newName} onChange={props.handleNameChange} />\n      </div>\n      <div>\n        number: <input value={props.newNumber} onChange={props.handleNumberChange} /></div>\n      <button type=\"submit\">add</button>\n    </form>\n  )\n}\n\nconst Notification = ({ message, type }) => {\n  if (message === null) {\n    return null\n  }\n\n  if (type === \"error\") {\n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [nameFilter, setNewNameFilter] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [successMessage, setSuccessMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(persons => {\n        setPersons(persons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const person = persons.find(p => p.name === newName)\n    if (person) {\n      if (!window.confirm(`${person.name} is already added to the phonebook, replace the old number with the new one?`))\n        return\n      const noteObject = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService\n        .update(person.id, noteObject)\n        .then(updatedPerson => {\n          createNotificationMessage(`${person.name}'s number was updated`, \"success\")\n          setPersons(persons.map(p => p.id !== person.id ? p : updatedPerson))\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          console.log(error)\n          createNotificationMessage(error.response.data.error, \"error\")\n        })\n      return\n    }\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    personService\n      .create(personObject)\n      .then(newPerson => {\n        createNotificationMessage(`${personObject.name} was added`, \"success\")\n        setPersons(persons.concat(newPerson))\n        setNewName('')\n        setNewNumber('')\n      })\n      .catch(error => {\n        console.log(error)\n        createNotificationMessage(error.response.data.error, \"error\")\n      })\n\n  }\n\n  const createNotificationMessage = (message, type) => {\n    if (type === \"error\") {\n      setErrorMessage(message)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n      return\n    }\n\n    setSuccessMessage(message)\n    setTimeout(() => {\n      setSuccessMessage(null)\n    }, 5000)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleNameFilterChange = (event) => {\n    setNewNameFilter(event.target.value)\n  }\n  const removePerson = (name) => {\n    if (window.confirm(`Remove ${name}?`)) {\n      const person = persons.find(p => p.name === name)\n      personService\n        .remove(person.id)\n        .then(() => {\n          createNotificationMessage(`${person.name} was removed`, \"success\")\n          setPersons(persons.filter(p => p.id !== person.id))\n        })\n        .catch(error => {\n          console.log(error)\n          createNotificationMessage(error.response.data.error, \"error\")\n          setPersons(persons.filter(p => p.id !== person.id))\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification className=\"success\" message={successMessage} type=\"success\" />\n      <Notification className=\"error\" message={errorMessage} type=\"error\" />\n      <Filter nameFilter={nameFilter} handleNameFilterChange={handleNameFilterChange} />\n      <h3>Add new number</h3>\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange}\n        newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h3>Numbers</h3>\n      <Persons persons={persons} nameFilter={nameFilter} removePerson={removePerson} />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)\n"],"sourceRoot":""}